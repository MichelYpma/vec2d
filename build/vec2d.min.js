// Copyright (c) 2013 Evan Shortiss
// 
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
// 
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
// 
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

!function(){function a(a,b){f===Array?this._axes=[a,b]:(this._axes=new f(2),this._axes[0]=a,this._axes[1]=b)}function b(b,c){var d=f;f=Float32Array;var e=new a(b,c);return f=d,e}function c(a,b){this.x=a,this.y=b}function d(){}a.prototype={setAxes:function(a,b){return this._axes[0]=a,this._axes[1]=b,this},getX:function(){return this._axes[0]},setX:function(a){return this._axes[0]=a,this},getY:function(){return this._axes[1]},setY:function(a){return this._axes[1]=a,this},toString:function(a){return a?"("+Math.round(this.getX())+", "+Math.round(this.getY())+")":"("+this.getX()+", "+this.getY()+")"},toArray:function(){return new Array(this._axes[0],this._axes[1])},toObject:function(){return{x:this._axes[0],y:this._axes[1]}},add:function(a){return this._axes[0]+=a._axes[0],this._axes[1]+=a._axes[1],this},subtract:function(a){return this._axes[0]-=a._axes[0],this._axes[1]-=a._axes[1],this},equals:function(a){return a._axes[0]==this._axes[0]&&a._axes[1]==this._axes[1]},multiplyByVector:function(a){return this._axes[0]*=a._axes[0],this._axes[1]*=a._axes[1],this},divideByVector:function(a){return this._axes[0]/=a._axes[0],this._axes[1]/=a._axes[1],this},multiplyByScalar:function(a){return this._axes[0]*=a,this._axes[1]*=a,this},divideByScalar:function(a){return this._axes[0]/=a,this._axes[1]/=a,this},normalise:function(){return this.multiplyByScalar(1/this.magnitude())},normalize:function(){return this.normalise()},unit:function(){return this.normalise()},magnitude:function(){return Math.sqrt(this._axes[0]*this._axes[0]+this._axes[1]*this._axes[1])},length:function(){return this.magnitude()},lengthSq:function(){return this._axes[0]*this._axes[0]+this._axes[1]*this._axes[1]},dot:function(a){return a._axes[0]*this._axes[0]+a._axes[1]*this._axes[1]},cross:function(a){return this._axes[0]*a._axes[1]-this._axes[1]*a._axes[0]},reverse:function(){return this._axes[0]=-this._axes[0],this._axes[1]=-this._axes[1],this},abs:function(){return this._axes[0]=Math.abs(this._axes[0]),this._axes[1]=Math.abs(this._axes[1]),this},zero:function(){return this._axes[0]=this._axes[1]=0,this},rotate:function(a){var b=Math.cos(a),c=Math.sin(a),d=this._axes[0],e=this._axes[1];return this._axes[0]=d*b-e*c,this._axes[1]=d*c+e*b,this},clone:function(){return new a(this._axes[0],this._axes[1])}},c.prototype={setAxes:function(a,b){return this.x=a,this.y=b,this},getX:function(){return this.x},setX:function(a){return this.x=a,this},getY:function(){return this.y},setY:function(a){return this.y=a,this},toString:function(a){return a?"("+Math.round(this.getX())+", "+Math.round(this.getY())+")":"("+this.getX()+", "+this.getY()+")"},toArray:function(){return new Array(this.x,this.y)},toObject:function(){return{x:this.x,y:this.y}},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},equals:function(a){return a.x==this.x&&a.y==this.y},multiplyByVector:function(a){return this.x*=a.x,this.y*=a.y,this},divideByVector:function(a){return this.x/=a.x,this.y/=a.y,this},multiplyByScalar:function(a){return this.x*=a,this.y*=a,this},divideByScalar:function(a){return this.x/=a,this.y/=a,this},normalise:function(){return this.multiplyByScalar(1/this.magnitude())},normalize:function(){return this.normalise()},unit:function(){return this.normalise()},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},length:function(){return this.magnitude()},lengthSq:function(){return this.x*this.x+this.y*this.y},dot:function(a){return a.x*this.x+a.y*this.y},cross:function(a){return this.x*a.y-this.y*a.x},reverse:function(){return this.x=-this.x,this.y=-this.y,this},abs:function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},rotate:function(a){var b=Math.cos(a),c=Math.sin(a),d=this.x,e=this.y;return this.x=d*b-e*c,this.y=d*c+e*b,this},zero:function(){return this.x=this.y=0,this},clone:function(){return new c(this.x,this.y)}};var e=!1,f=Array;d.prototype={ArrayVector:a,ObjectVector:c,Float32Vector:b,create:function(b,d){return e===!0?new c(b,d):new a(b,d)},random:function(a,b,c,d){var e=a+(b-a)*Math.random(),f=c+(d-c)*Math.random();return this.create(e,f)},abs:function(a){return this.create(Math.abs(a.getX(),a.getY()))},useStandardArrays:function(){e=!1,f=Array},useFloat32Arrays:function(){e=!1,f=Float32Array},useObjects:function(){e=!0},add:function(a,b){return this.create(a.getX()+b.getX(),a.getY()+b.getY())},subtract:function(a,b){return this.create(a.getX()-b.getX(),a.getY()-b.getY())},equals:function(a,b){return a.equals(b)},vectorTimesVector:function(a,b){return this.create(a.getX()*b.getX(),a.getY()*b.getY())},multV:this.vectorTimesVector,vectorTimesScalar:function(a,b){return this.create(a.getX()*b,a.getY()*b)},multS:this.vectorTimesScalar,nomalise:function(a){return this.timesScalar(a,1/a.magnitude())},normalize:this.nomalise,unit:this.normalise,dot:function(a,b){return a.getX()*b.getX()+a.getY()*b.getY()},cross:function(a,b){return a.getX()*b.getY()-a.getY()*b.getX()},magnitude:function(a){return a.magnitude()},length:function(a){return a.magnitude()},rotate:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=a.getX(),f=a.getY(),g=e*c-f*d,h=e*d+f*c;return this.create(g,h)},distance:function(a,b){var c=a.getX()-b.getX(),d=a.getY()-b.getY();return Math.sqrt(c*c+d*d)},reverse:function(a){return this.create(-a.getX(),-a.getY())}},"undefined"!=typeof window?window.Vec2D=new d:module.exports=new d}();